{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport axios from 'axios';\n\nconst summary = {\n    form: document.querySelector('.form'),\n    gallery: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n    btnElem: document.querySelector('.btn'),\n};\n\nconst { form, gallery, loader, btnElem } = summary;\n\nloader.classList.add('hidden');\n\nconst searchParams = {\n    key: '42200022-9c7e7676f0f903944c054771a',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 15,\n    page: 1,\n    q: '',\n};\n\nconst searchInput = document.querySelector('.input-name');\n\nform.addEventListener('submit', async (e) => {\n    e.preventDefault();\n    const inputValue = e.target.elements.input.value.trim();\n\n    if (!inputValue) {\n        iziToast.show({\n            message: 'Please enter a valid search query.',\n            backgroundColor: '#125487',\n            messageColor: 'white',\n            messageSize: '25',\n        });\n        searchInput.value = ''; // Очистка поля пошуку\n        return;\n    }\n\n    searchParams.q = inputValue;\n    gallery.innerHTML = '';\n    loader.classList.remove('hidden');\n\n    searchParams.page = 1;\n    const images = await getPhotoByName();\n    searchParams.totalResults = images.totalHits;\n    createGallery(images);\n    checkBtnStatus();\n    e.target.reset();\n    searchInput.value = ''; // Очистка поля пошуку\n});\n\nbtnElem.addEventListener('click', async () => {\n    searchParams.page += 1;\n    const images = await getPhotoByName();\n    createGallery(images);\n    checkBtnStatus();\n    window.scrollBy({\n        top: 465,\n        behavior: 'smooth',\n    });\n    searchInput.value = ''; // Очистка поля пошуку\n});\n\nasync function getPhotoByName() {\n    const urlParams = new URLSearchParams(searchParams);\n    try {\n        const response = await axios.get(`https://pixabay.com/api/?${urlParams}`);\n        return response.data;\n    } catch (error) {\n        console.log('Error fetching data:', error);\n        iziToast.show({\n            title: 'Error',\n            message: 'Oops, something went wrong',\n        });\n        searchInput.value = ''; // Очистка поля пошуку\n        return { hits: [] }; // Повертаємо пустий об'єкт для уникнення помилок при обробці hits.length\n    }\n}\n\nfunction createGallery(images) {\n    if (images.hits.length === 0) {\n        iziToast.show({\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            backgroundColor: '#125487',\n            messageColor: 'white',\n            messageSize: '25',\n        });\n\n        btnElem.classList.add('hidden');\n    } else {\n        const link = images.hits\n            .map(\n                (image) => `\n                    <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                        <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n                    </a>\n                    <div class=\"img-content\">\n                        <div>\n                            <h3>Likes</h3>\n                            <p>${image.likes}</p>\n                        </div>\n                        <div>\n                            <h3>Views</h3>\n                            <p>${image.views}</p>\n                        </div>\n                        div>\n                            <h3>Comments</h3>\n                            <p>${image.comments}</p>\n                        </div>\n                        <div>\n                            <h3>Downloads</h3>\n                            <p>${image.downloads}</p>\n                        </div>\n                    </div>\n                `\n            )\n            .join('');\n        gallery.insertAdjacentHTML('beforeend', link);\n        btnElem.classList.remove('hidden');\n    }\n\n    let lightBox = new SimpleLightbox;\n\n    const searchQuery = searchInput.value.trim();\n\n    if (searchQuery === '') {\n        iziToast.show({\n            title: 'Error',\n            message: 'Please enter a search query',\n        });\n        searchInput.value = ''; // Очистка поля пошуку\n    }\n}\n"],"names":["summary","form","gallery","loader","btnElem","searchParams","searchInput","e","inputValue","iziToast","images","getPhotoByName","createGallery","urlParams","axios","error","link","image","SimpleLightbox"],"mappings":"owBAMA,MAAMA,EAAU,CACZ,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,MAAM,CAC1C,EAEM,CAAE,KAAAC,EAAM,QAAAC,EAAS,OAAAC,EAAQ,QAAAC,CAAO,EAAKJ,EAE3CG,EAAO,UAAU,IAAI,QAAQ,EAE7B,MAAME,EAAe,CACjB,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAM,EACN,EAAG,EACP,EAEMC,EAAc,SAAS,cAAc,aAAa,EAExDL,EAAK,iBAAiB,SAAU,MAAOM,GAAM,CACzCA,EAAE,eAAc,EAChB,MAAMC,EAAaD,EAAE,OAAO,SAAS,MAAM,MAAM,OAEjD,GAAI,CAACC,EAAY,CACbC,EAAS,KAAK,CACV,QAAS,qCACT,gBAAiB,UACjB,aAAc,QACd,YAAa,IACzB,CAAS,EACDH,EAAY,MAAQ,GACpB,MACH,CAEDD,EAAa,EAAIG,EACjBN,EAAQ,UAAY,GACpBC,EAAO,UAAU,OAAO,QAAQ,EAEhCE,EAAa,KAAO,EACpB,MAAMK,EAAS,MAAMC,IACrBN,EAAa,aAAeK,EAAO,UACnCE,EAAcF,CAAM,EACpB,iBACAH,EAAE,OAAO,QACTD,EAAY,MAAQ,EACxB,CAAC,EAEDF,EAAQ,iBAAiB,QAAS,SAAY,CAC1CC,EAAa,MAAQ,EACrB,MAAMK,EAAS,MAAMC,IACrBC,EAAcF,CAAM,EACpB,iBACA,OAAO,SAAS,CACZ,IAAK,IACL,SAAU,QAClB,CAAK,EACDJ,EAAY,MAAQ,EACxB,CAAC,EAED,eAAeK,GAAiB,CAC5B,MAAME,EAAY,IAAI,gBAAgBR,CAAY,EAClD,GAAI,CAEA,OADiB,MAAMS,EAAM,IAAI,4BAA4BD,CAAS,EAAE,GACxD,IACnB,OAAQE,EAAO,CACZ,eAAQ,IAAI,uBAAwBA,CAAK,EACzCN,EAAS,KAAK,CACV,MAAO,QACP,QAAS,4BACrB,CAAS,EACDH,EAAY,MAAQ,GACb,CAAE,KAAM,CAAA,EAClB,CACL,CAEA,SAASM,EAAcF,EAAQ,CAC3B,GAAIA,EAAO,KAAK,SAAW,EACvBD,EAAS,KAAK,CACV,QAAS,2EACT,gBAAiB,UACjB,aAAc,QACd,YAAa,IACzB,CAAS,EAEDL,EAAQ,UAAU,IAAI,QAAQ,MAC3B,CACH,MAAMY,EAAON,EAAO,KACf,IACIO,GAAU;AAAA,oDACyBA,EAAM,aAAa;AAAA,0DACbA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iCAK/DA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,iCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,iBAInC,EACA,KAAK,EAAE,EACZf,EAAQ,mBAAmB,YAAac,CAAI,EAC5CZ,EAAQ,UAAU,OAAO,QAAQ,CACpC,CAEc,IAAIc,EAECZ,EAAY,MAAM,KAAI,IAEtB,KAChBG,EAAS,KAAK,CACV,MAAO,QACP,QAAS,6BACrB,CAAS,EACDH,EAAY,MAAQ,GAE5B"}