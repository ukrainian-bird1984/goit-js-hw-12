{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport axios from 'axios';\n\nconst summary = {\nform: document.querySelector('.form'),\ngallery: document.querySelector('.gallery'),\nloader: document.querySelector('.loader'),\nbtnElem: document.querySelector('.btn'),\n}\n\nconst { form, gallery, loader, btnElem } = summary;\n\nloader.classList.add('hidden');\n\nconst searchParams = {\nkey: '42200022-9c7e7676f0f903944c054771a',\nimage_type: 'photo',\norientation: 'horizontal',\nsafesearch: true,\nper_page: 15,\npage: 1,\ntotalResults: 0,\nq: '',\n}\n\nform.addEventListener('submit', async e => {\ne.preventDefault();\nsearchParams.q = e.target.elements.input.value;\n\nif (!searchParams.q) return;\n\ngallery.innerHTML = '';\nloader.classList.remove('hidden');\n    \nsearchParams.page = 1;\nconst images = await getPhotoByName();\nsearchParams.totalResults = images.totalHits;\ncreateGallery(images);\ncheckBtnStatus();\ne.target.reset();\n});\n\nbtnElem.addEventListener('click', async () => {\nsearchParams.page += 1;\nconst images = await getPhotoByName();\ncreateGallery(images);\ncheckBtnStatus();\nwindow.scrollBy({\ntop: 465,\nbehavior: \"smooth\",\n});\n})\n\nasync function getPhotoByName() {\nconst urlParams = new URLSearchParams(searchParams);\nconst response = await axios.get(`https://pixabay.com/api/?${urlParams}`)\nreturn response.data;\n} \n\nfunction createGallery(images) {\nif (images.hits.length === 0) {\niziToast.show({\nmessage: 'Sorry, there are no images matching your search query. Please try again!',\nbackgroundColor: '#125487',\nmessageColor: 'white',\nmessageSize: '25',\n});\n\nbtnElem.classList.add('hidden');\n} else {\nconst link = images.hits.map(image => `<a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n<img class=\"gallery-image\"\nsrc=\"${image.webformatURL}\"\nalt=\"${image.tags}\"\n</a>\n<div class=\"img-content\">\n<div>\n<h3>Likes</h3>\n<p>${image.likes}</p>\n</div>\n\n<div>\n<h3>Views</h3>\n<p>${image.views}</p>\n</div>\n\n<div>\n<h3>Comments</h3>\n<p>${image.comments}</p>\n</div>\n\n<div>\n<h3>Downloads</h3>\n<p>${image.downloads}</p>\n</div>\n</div>\n`).join('');\ngallery.insertAdjacentHTML('beforeend', link);\nbtnElem.classList.remove('hidden');\n}\nlet lightBox = new SimpleLightbox('.gallery-link');\nlightBox.refresh();\nloader.classList.add('hidden');\n}\n\nfunction checkBtnStatus() {\nconst maxPage = Math.ceil(searchParams.totalResults / searchParams.per_page);\nconst isLastPage = maxPage === searchParams.page;\nif (isLastPage) {\nbtnElem.classList.add('hidden');\niziToast.show({\nmessage: \"We're sorry, but you've reached the end of search results.\",\nbackgroundColor: '#125487',\nmessageColor: 'white',\nmessageSize: '25',\n});\n}\n}"],"names":["summary","form","gallery","loader","btnElem","searchParams","e","images","getPhotoByName","createGallery","checkBtnStatus","urlParams","axios","iziToast","link","image","SimpleLightbox"],"mappings":"owBAOA,MAAMA,EAAU,CAChB,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,MAAM,CACtC,EAEM,CAAE,KAAAC,EAAM,QAAAC,EAAS,OAAAC,EAAQ,QAAAC,CAAO,EAAKJ,EAE3CG,EAAO,UAAU,IAAI,QAAQ,EAE7B,MAAME,EAAe,CACrB,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAM,EACN,aAAc,EACd,EAAG,EACH,EAEAJ,EAAK,iBAAiB,SAAU,MAAMK,GAAK,CAI3C,GAHAA,EAAE,eAAc,EAChBD,EAAa,EAAIC,EAAE,OAAO,SAAS,MAAM,MAErC,CAACD,EAAa,EAAG,OAErBH,EAAQ,UAAY,GACpBC,EAAO,UAAU,OAAO,QAAQ,EAEhCE,EAAa,KAAO,EACpB,MAAME,EAAS,MAAMC,IACrBH,EAAa,aAAeE,EAAO,UACnCE,EAAcF,CAAM,EACpBG,IACAJ,EAAE,OAAO,OACT,CAAC,EAEDF,EAAQ,iBAAiB,QAAS,SAAY,CAC9CC,EAAa,MAAQ,EACrB,MAAME,EAAS,MAAMC,IACrBC,EAAcF,CAAM,EACpBG,IACA,OAAO,SAAS,CAChB,IAAK,IACL,SAAU,QACV,CAAC,CACD,CAAC,EAED,eAAeF,GAAiB,CAChC,MAAMG,EAAY,IAAI,gBAAgBN,CAAY,EAElD,OADiB,MAAMO,EAAM,IAAI,4BAA4BD,CAAS,EAAE,GACxD,IAChB,CAEA,SAASF,EAAcF,EAAQ,CAC/B,GAAIA,EAAO,KAAK,SAAW,EAC3BM,EAAS,KAAK,CACd,QAAS,2EACT,gBAAiB,UACjB,aAAc,QACd,YAAa,IACb,CAAC,EAEDT,EAAQ,UAAU,IAAI,QAAQ,MACvB,CACP,MAAMU,EAAOP,EAAO,KAAK,IAAIQ,GAAS,iCAAiCA,EAAM,aAAa;AAAA;AAAA,OAEnFA,EAAM,YAAY;AAAA,OAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,KAKZA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,KAKXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,KAKXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,KAKdA,EAAM,SAAS;AAAA;AAAA;AAAA,CAGnB,EAAE,KAAK,EAAE,EACVb,EAAQ,mBAAmB,YAAaY,CAAI,EAC5CV,EAAQ,UAAU,OAAO,QAAQ,CACjC,CACe,IAAIY,EAAe,eAAe,EACxC,QAAO,EAChBb,EAAO,UAAU,IAAI,QAAQ,CAC7B,CAEA,SAASO,GAAiB,CACV,KAAK,KAAKL,EAAa,aAAeA,EAAa,QAAQ,IAC5CA,EAAa,OAE5CD,EAAQ,UAAU,IAAI,QAAQ,EAC9BS,EAAS,KAAK,CACd,QAAS,6DACT,gBAAiB,UACjB,aAAc,QACd,YAAa,IACb,CAAC,EAED"}