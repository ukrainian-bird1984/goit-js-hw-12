import{A as S,S as q,i as l}from"./assets/vendor-db5ad915.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();const C=document.querySelector(".form"),m=document.querySelector(".input-name"),d=document.querySelector(".loader"),g=document.querySelector(".gallery"),u=document.querySelector(".load-btn");let h="",a=0,c=0,p=1;const f=S.create({baseURL:"https://pixabay.com",params:{key:"42310325-d8e2b88bd4f4d7db9639050a5",image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:1}});let E=new q(".image-link",{captionsData:"alt",captionDelay:250});C.addEventListener("submit",O);u.addEventListener("click",$);async function O(s){s.preventDefault();const t=m.value.trim();if(t===""){l.show({title:"Error",message:"Please enter a search query"});return}g.innerHTML="",p=1,a=0,h=t,b(),d.classList.add("visible");try{const i=(await f.get("/api/",{params:{q:t}})).data;c=i.totalHits,a=y(i.hits,c,a)}catch(r){console.log("Error fetching data:",r),l.show({title:"Error",message:"Oops, something went wrong"})}finally{d.classList.remove("visible")}}function y(s){if(s.length===0){l.show({message:"Sorry, there are no images matching your search query. Please try again!",backgroundColor:"red",messageColor:"white",messageSize:"25"});return}return s.forEach(t=>{const{webformatURL:r,largeImageURL:i,tags:e,likes:o,views:n,comments:w,downloads:v}=t,L=P(r,i,e,o,n,w,v);g.insertAdjacentHTML("beforeend",L)}),a+=s.length,E.refresh(),k(a,c),a}function P(s,t,r,i,e,o,n){return`<li class="photo">
  <div class="photo-card">
    <a class="image-link" data-lightbox="image" href="${t}">
    <img class="gallery-image" data-source="${t}"  src="${s}" alt="${r}"></img>
    </a>
    </div>
      <div class="description">
        <p class="description-item"> Likes ${i}</p>
        <p class="description-item"> Views ${e}</p>
        <p class="description-item"> Comments ${o}</p>
        <p class="description-item"> Downloads ${n}</p>
    </div>
  </li>`}async function $(){const s=m.value.trim();if(a>=c){h===""?l.show({message:"We're sorry, but you've reached the end of search results.",backgroundColor:"#125487",messageColor:"white",messageSize:"25"}):l.show({message:"Cannot load more images. You've reached the limit.",backgroundColor:"#125487",messageColor:"white",messageSize:"25"});return}d.classList.add("visible");try{const r=(await f.get("/api/",{params:{q:s,page:p+=1}})).data;c=r.totalHits,a=y(r.hits,c,a),x()}catch(t){console.log("Error fetching data:",t),l.show({title:"Error",message:"Oops, something went wrong"})}finally{d.classList.remove("visible")}}function k(s,t){s>=t?b():H()}function x(){const s=document.querySelector(".photo").getBoundingClientRect().height;window.scrollBy({top:s*2,behavior:"smooth"})}function H(){u.style.visibility="visible"}function b(){u.style.visibility="hidden"}
//# sourceMappingURL=commonHelpers.js.map
