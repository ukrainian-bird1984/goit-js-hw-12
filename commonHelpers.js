import{A as S,S as q,i as c}from"./assets/vendor-db5ad915.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();const E=document.querySelector(".form"),g=document.querySelector(".input-name"),d=document.querySelector(".loader"),p=document.querySelector(".gallery"),u=document.querySelector(".load-btn");let a=0,l=0,h=1;const f=S.create({baseURL:"https://pixabay.com",params:{key:"42310325-d8e2b88bd4f4d7db9639050a5",image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:1}});let O=new q(".image-link",{captionsData:"alt",captionDelay:250});E.addEventListener("submit",P);u.addEventListener("click",x);async function P(s){s.preventDefault();const t=g.value.trim();if(t===""){c.show({title:"Error",message:"Please enter a search query"});return}p.innerHTML="",h=1,a=0,m(),d.classList.add("visible");try{const i=(await f.get("/api/",{params:{q:t}})).data;l=i.totalHits,a=y(i.hits,l,a)}catch(r){console.log("Error fetching data:",r),c.show({title:"Error",message:"Oops, something went wrong"})}finally{d.classList.remove("visible")}}function y(s){if(s.length===0){c.show({message:"Sorry, there are no images matching your search query. Please try again!",backgroundColor:"red",messageColor:"white",messageSize:"25"});return}return s.forEach(t=>{const{webformatURL:r,largeImageURL:i,tags:e,likes:o,views:n,comments:v,downloads:w}=t,L=$(r,i,e,o,n,v,w);p.insertAdjacentHTML("beforeend",L)}),a+=s.length,O.refresh(),b(a,l),a}function $(s,t,r,i,e,o,n){return`<li class="photo">
  <div class="photo-card">
    <a class="image-link" data-lightbox="image" href="${t}">
    <img class="gallery-image" data-source="${t}"  src="${s}" alt="${r}"></img>
    </a>
    </div>
      <div class="description">
        <p class="description-item"> Likes ${i}</p>
        <p class="description-item"> Views ${e}</p>
        <p class="description-item"> Comments ${o}</p>
        <p class="description-item"> Downloads ${n}</p>
    </div>
  </li>`}async function x(){m(),d.classList.add("visible");const s=g.value.trim();try{const r=(await f.get("/api/",{params:{q:s,page:h+=1}})).data;l=r.totalHits,a=y(r.hits,l,a),C(),b(a,l)}catch(t){console.log("Error fetching data:",t),c.show({title:"Error",message:"Oops, something went wrong"})}finally{d.classList.remove("visible")}}function b(s,t){s>=t?(c.show({message:"We're sorry, but you've reached the end of search results.",backgroundColor:"#125487",messageColor:"white",messageSize:"25"}),m()):k()}function C(){const s=document.querySelector(".photo").getBoundingClientRect().height;window.scrollBy({top:s*2,behavior:"smooth"})}function k(){u.style.visibility="visible"}function m(){u.style.visibility="hidden"}
//# sourceMappingURL=commonHelpers.js.map
